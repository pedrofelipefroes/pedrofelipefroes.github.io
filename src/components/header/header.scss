.header {
    background-color: transparent;
    clip-path: polygon(0 0, 100vw 0, 100vw calc(2 * ss(1) + 2.5ex), 0 calc(2 * ss(1) + 2.5ex));
    height: calc(2 * ss(1) + 2.5ex);
    margin-top: -4.2ex;
    padding: 0 ss(1.5);
    position: sticky;
    text-transform: uppercase;
    transition:
        background-color 2s cubic-bezier(0.16, 1, 0.3, 1),
        clip-path 1s cubic-bezier(0.16, 1, 0.3, 1) 1ms;
    top: 0;
    z-index: 1;

    &.is-expanded {
        background-color: rgb(var(--color-light));
        clip-path: polygon(0 0, 100vw 0, 100vw 100vh, 0 100vh);
        display: flex;
        flex-direction: column;
        height: 100vh;
        left: 0;
        margin: 0;
        padding: 0 ss(1.5) ss(1);
        position: fixed;
        top: 0;
        transition: clip-path 1s cubic-bezier(0.16, 1, 0.3, 1) 1ms;
        width: 100vw;
    }

    .contact-info {
        display: none;
        justify-content: space-between;
        padding-top: ss(1);

        &--is-visible {
            display: flex;
        }

        a + a {
            margin-left: ss(1.5);
        }

        small:last-child {
            display: none;

            @media screen and (min-width: 375px) {
                display: flex;
            }
        }

        small:last-child span {
            display: none;

            @include breakpoint(landscape) {
                display: block;
            }
        }

        small + small {
            margin-top: 0;
        }
    }

    .menu {
        background-color: rgb(var(--color-dark));
        display: none;
        padding: ss(1.25) ss(1.5) ss(1) ss(3.5);

        &--is-visible {
            align-items: flex-end;
            display: flex;
            flex-basis: 100%;
            justify-content: flex-end;
        }

        a {
            @extend h1;

            color: rgb(var(--color-light));
            display: block;
            hyphens: auto;
            word-break: break-all;
        }

        li {
            padding-left: ss(0.75);
        }

        li + li {
            margin-top: ss(0.1);
        }

        ol {
            @extend h3;

            font-stretch: extra-expanded;
            color: rgb(var(--color-light));
            list-style: upper-roman;
        }
    }

    .toggle {
        box-sizing: content-box;
        stroke-width: 0.125em;
        margin-right: -1 * ss(1);
        opacity: 0;
        padding: ss(1) ss(1) ss(1) ss(0.5);
        position: relative;
        transition:
            opacity 1s cubic-bezier(0.34, 1.56, 0.64, 1),
            stroke 750ms cubic-bezier(0.34, 1.56, 0.64, 1),
            transform 500ms cubic-bezier(0.16, 1, 0.3, 1);
        transform-origin: center;
        width: auto;
        z-index: 1;

        & > line {
            stroke: rgba(var(--color-dark), 0.75);
        }

        &--off {
            transform: rotate(45deg) translateY(4px);
        }

        &--is-visible {
            opacity: 1;
        }

        &--is-visible:hover {
            cursor: pointer;
        }
    }

    .top-navbar {
        align-items: center;
        display: flex;
        justify-content: flex-end;

        menu {
            $project-count: 4;

            display: none;
            margin-right: ss(-1.75);
            position: relative;
            z-index: 1;

            @media screen and (min-width: 1440px) {
                display: block;
            }

            ol {
                @extend small;

                display: flex;
            }

            li {
                opacity: 1;
            }

            li + li {
                margin-left: ss(1.5);
            }

            @for $i from 1 through $project-count {
                li:nth-child(#{$i}) {
                    transition-duration: calc($i * 200ms);
                    transition-property: opacity;
                    transition-timing-function: cubic-bezier(0.16, 1, 0.3, 1);
                }
            }

            li:last-child {
                transition:
                    margin-right 800ms cubic-bezier(0.16, 1, 0.3, 1),
                    opacity 800ms cubic-bezier(0.16, 1, 0.3, 1) 200ms;
            }

            &.landscape-menu--is-collapsed li {
                opacity: 0;
            }

            &.landscape-menu--is-collapsed li a {
                pointer-events: none;
            }

            &.landscape-menu--is-collapsed li:last-child {
                margin-right: ss(2.25);
                opacity: 0;
            }
        }

        .wordmark {
            margin-right: ss(-2.25);
            transition: margin-right 800ms cubic-bezier(0.16, 1, 0.3, 1);

            @include breakpoint(landscape) {
                margin-right: 0;
                opacity: 0;
                position: absolute;
                transition:
                    opacity 800ms cubic-bezier(0.16, 1, 0.3, 1),
                    margin-right 800ms cubic-bezier(0.16, 1, 0.3, 1);
            }
        }

        .wordmark--is-shifted {
            margin-right: 0;

            @include breakpoint(landscape) {
                margin-right: ss(2.25);
                opacity: 1;
            }
        }
    }
}
